# まいカゴ v0.8.0 → v0.8.3 リリースノート

## 🎉 バージョン 0.8.3 リリース

### 🔧 修正・改善
- **UI/UX改善**: 画像解析進行ダイアログの背景色をテーマに基づいて修正
- **エラー修正**: 複数のエラーを修正し、安定性を向上
- **UI調整**: 寄付画面のテキストとアニメーションの調整、カメラボタンの説明文を修正
- **カメラ機能**: カメラ画面の説明文を改善し、ユーザビリティを向上
- **カメラ機能**: カメラの枠を削除、画像の切り取り機能を削除してシンプル化
- **設定画面**: カメラガイドラインリセット画面と関連機能を削除
- **画像解析**: 税込/税抜問題を修正し、より正確な価格認識を実現
- **開発環境**: SDK XMLバージョンに関する警告を抑制する設定を追加

---

## 🚀 バージョン 0.8.2 リリース

### 🎯 主要な改善
- **画像解析精度**: 98%の高精度で画像解析に成功
- **画像解析精度**: 97%の精度で画像解析に成功
- **画像解析精度**: 95%の精度で画像解析に成功
- **パフォーマンス**: 画像解析の高速化とタイムアウト設定を追加
- **安定性**: 何度画像解析を行ってもアプリが落ちることなく、安定して動作
- **価格認識**: 小数点価格の誤認識問題を解決
- **価格認識**: 税込価格を優先するための改善
- **処理フロー**: Vision API → ChatGPT → 結果 のシンプルな流れに変更
- **クラッシュ修正**: 画像解析でたまにアプリが落ちる問題を修正

### 🔧 技術的改善
- **OCRサービス**: 税込価格の検出ロジックを強化
  - 複数行にわたる税込価格の検索機能を追加
  - 価格候補の優先度を調整
  - 税込関連のキーワードを考慮した価格候補の収集処理を改善

---

## 🎯 バージョン 0.8.1 リリース

### 🆕 新機能
- **簡単電卓**: 使い方ガイドを追加し、ユーザーが操作方法を理解しやすく改善
- **カメラ機能**: 使用手順を明確化し、設定画面の金額入力時の自動完了の文言を変更
- **カメラガイドライン**: 初回利用時にガイドラインを確認できる機能を追加
- **設定画面**: カメラガイドラインのリセット機能を実装
- **キャッシュ機能**: OCRサービスにおける画像解析のキャッシュ機能を強化

### 🔧 技術的改善
- **アプリ起動**: main.dartでの設定の読み込み処理を追加
- **テーマ適用**: アプリ起動時にユーザーのテーマとフォントを適用
- **ファミリー作成**: TransmissionProviderでのファミリー作成処理をユーザー操作に基づくものに変更
- **価格検出**: OCRサービスでの価格検出ロジックを強化
- **画像処理**: カメラ画面で撮影した画像を切り取る機能を追加

### 📚 ドキュメント
- **README.md**: セキュリティ監査機能の説明を追加
- **プライバシー**: プライバシーポリシーと利用規約のセクションタイトルを更新
- **セキュリティ**: 各サービスでセキュリティ監査の記録を行うように改善

### 🔧 修正・改善
- **Androidビルド**: Androidビルドエラーを修正
- **Firebase**: 依存関係にcloud_functionsを追加
- **初期化**: Firebase Authの初期化確認をmain.dartに追加
- **Cloud Functions**: OCRサービスにCloud Functionsを使用した画像解析機能を実装
- **遅延取得**: Firebaseの依存を遅延取得に変更
- **クラッシュ防止**: 各サービスでの初期化失敗時のクラッシュを防止
- **UI改善**: カメラ画面のUIを改善し、色の透明度を調整
- **ナビゲーション**: 設定を開くボタンのナビゲーション処理を最適化

---

## 📊 全体的な改善点

### 🎯 画像解析機能
- **精度向上**: 95% → 98%の高精度化
- **安定性**: クラッシュ問題を解決し、安定動作を実現
- **速度**: 高速化とタイムアウト設定の追加
- **価格認識**: 税込/税抜問題の修正と小数点価格の誤認識解決

### 📱 ユーザーエクスペリエンス
- **カメラ機能**: ガイドライン表示、説明文改善、UI最適化
- **簡単電卓**: 使い方ガイドの追加
- **設定画面**: より分かりやすい説明文と機能の整理
- **テーマ対応**: ダークモード/ライトモードの適切な表示

### 🔧 技術的安定性
- **Firebase**: Cloud Functions統合と初期化処理の改善
- **エラーハンドリング**: クラッシュ防止とエラー修正
- **パフォーマンス**: 処理速度の向上とタイムアウト設定
- **開発環境**: 警告抑制とビルドエラー修正

---

## 🎉 テスト参加者の皆様へ

このバージョンでは、特に画像解析機能の精度と安定性が大幅に向上しました。カメラで撮影した商品の価格を98%の精度で認識できるようになり、アプリのクラッシュも解消されています。

また、UI/UXの改善により、より使いやすくなっています。ぜひ新しい機能をお試しいただき、フィードバックをお聞かせください！

**テスト期間**: 現在進行中  
**対象プラットフォーム**: Android  
**フィードバック**: Discordチャンネルでお気軽にお聞かせください
