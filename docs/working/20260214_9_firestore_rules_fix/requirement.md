# 要件定義

**Issue**: #9
**作成日**: 2026-02-14
**ラベル**: security, critical

## ユーザーストーリー
ユーザー「自分の招待データや匿名セッションが他人に見られたり改ざんされたりしないようにしてほしい」

## 要件一覧
### 必須要件
- [ ] `familyInvites`の`|| true`を削除し、適切なアクセス制御を実装
- [ ] `anonymous`コレクションに最低限の認証チェックを追加
- [ ] 既存の招待フロー・匿名セッションの動作が維持される

### オプション要件
- [ ] Firestoreルールのユニットテスト作成

## 受け入れ基準
- [ ] `|| true`がルール内に存在しない
- [ ] `allow read, write: if true`が認証付きに変更されている
- [ ] 招待の作成・承認フローが正常動作
- [ ] 匿名ユーザーの買い物リスト操作が正常動作
