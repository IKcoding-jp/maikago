# テスト計画 — Issue #89: コード品質改善

## テスト方針

本Issueはリファクタリング（既存動作を維持した内部改善）のため、既存テストが全て通過することを確認する。新規テストの追加は最小限。

## 自動テスト

### 既存テスト確認

```bash
flutter test
```

全テストが通過すること。

### 静的解析

```bash
flutter analyze
```

Lintエラーがないこと。

## 手動確認項目

### カメラ画面統合（H-1）

- [ ] カメラ画面が正常に表示される
- [ ] カメラの初期化が成功する
- [ ] 撮影が正常に動作する
- [ ] ズーム操作が動作する
- [ ] ガイドラインダイアログが表示される

### バージョン表示（H-2）

- [ ] リリース履歴画面でバージョンが正しく表示される
- [ ] バージョン通知が正常に動作する

### 設定永続化（M-1）

- [ ] テーマ設定の保存・読み込みが正常
- [ ] フォント設定の保存・読み込みが正常
- [ ] タブ別予算の保存・読み込みが正常

### エラーハンドリング（M-2）

- [ ] エラー発生時にDebugServiceにログが記録される
- [ ] エラー発生時もアプリがクラッシュしない

### 寄付画面（M-3）

- [ ] 金額選択が正常に動作する
- [ ] 寄付処理が正常に完了する

## リグレッションリスク

| 変更 | リスク | 軽減策 |
|------|-------|--------|
| カメラ画面リネーム | import参照漏れ | `flutter analyze` で検出 |
| settings_persistence共通化 | 型変換ミス | 既存テスト + 手動確認 |
| Map置換 | default挙動の差異 | 同一default値を維持 |
